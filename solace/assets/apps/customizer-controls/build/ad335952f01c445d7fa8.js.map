{"version":3,"file":"ad335952f01c445d7fa8.js","mappings":"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","sources":["webpack://solace/./assets/apps/customizer-controls/src/font-family/FontFamilySelector.js","webpack://solace/./assets/apps/customizer-controls/src/font-family/FontPreviewLink.js"],"sourcesContent":["import FontPreviewLink from './FontPreviewLink.js';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport PropTypes from 'prop-types';\n\nimport { Popover, Button, TextControl, Icon } from '@wordpress/components';\nimport { update, close } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nconst FontFamilySelector = ({\n\tfonts,\n\tselected,\n\tonFontChoice,\n\tinheritDefault,\n\tmaybeGetTypekit,\n\tsystemFonts,\n}) => {\n\tconst [visible, setVisible] = useState(false);\n\tconst [search, setSearch] = useState('');\n\tconst [loadUntil, setLoadUntil] = useState(20);\n\n\tconst getFonts = () => {\n\t\tconst result = {};\n\n\t\tif (!search) {\n\t\t\treturn fonts;\n\t\t}\n\n\t\tObject.keys(fonts).map((key) => {\n\t\t\tresult[key] = fonts[key].filter((value) => {\n\t\t\t\treturn value.toLowerCase().includes(search.toLowerCase());\n\t\t\t});\n\t\t\treturn key;\n\t\t});\n\n\t\treturn result;\n\t};\n\n\tconst getFontList = () => {\n\t\tconst groups = getFonts();\n\t\tconst options = [];\n\n\t\tif (!systemFonts) {\n\t\t\toptions.push(\n\t\t\t\t<li\n\t\t\t\t\tkey=\"default\"\n\t\t\t\t\tclassName={'default-value ' + !selected ? 'selected' : ''}\n\t\t\t\t>\n\t\t\t\t\t<FontPreviewLink\n\t\t\t\t\t\tfontFace=\"default\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t\t// onFontChoice('system', false);\n\t\t\t\t\t\t\tonFontChoice('system', 'Manrope, sans-serif');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tinheritDefault\n\t\t\t\t\t\t\t\t? __('Inherit', 'solace')\n\t\t\t\t\t\t\t\t: __('Default', 'solace')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tObject.keys(groups).map((key) => {\n\t\t\tif (systemFonts && key !== 'System') {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (groups[key].length > 0) {\n\t\t\t\toptions.push(\n\t\t\t\t\t<li className=\"font-group-header\" key={key}>\n\t\t\t\t\t\t{key}\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\t\t\tgroups[key].map((font, index) => {\n\t\t\t\tif (index < loadUntil) {\n\t\t\t\t\toptions.push(\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={font}\n\t\t\t\t\t\t\tclassName={font === selected ? 'selected' : ''}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontPreviewLink\n\t\t\t\t\t\t\t\tdelayLoad={false}\n\t\t\t\t\t\t\t\tlabel={font}\n\t\t\t\t\t\t\t\tfontFace={maybeGetTypekit(font)}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tonFontChoice(key, font);\n\t\t\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn font;\n\t\t\t});\n\t\t\treturn key;\n\t\t});\n\n\t\tif (loadUntil < options.length) {\n\t\t\toptions.push(\n\t\t\t\t<li className=\"load-more\" key=\"load-more\">\n\t\t\t\t\t<VisibilitySensor\n\t\t\t\t\t\toffset={{ top: 20 }}\n\t\t\t\t\t\tminTopValue={1}\n\t\t\t\t\t\tpartialVisibility={true}\n\t\t\t\t\t\tonChange={(isVisible) => {\n\t\t\t\t\t\t\tif (isVisible) {\n\t\t\t\t\t\t\t\tsetLoadUntil(loadUntil + 30);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={update} />\n\t\t\t\t\t</VisibilitySensor>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"popover-content\">\n\t\t\t\t\t<div className=\"popover-header\">\n\t\t\t\t\t\t<div className=\"search\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tplaceholder={__('Search', 'solace') + '...'}\n\t\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSearch(e);\n\t\t\t\t\t\t\t\t\tsetLoadUntil(20);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"#close-font\"\n\t\t\t\t\t\t\t\tclassName=\"close-font-selector\"\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon size={21} icon={close} />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul className=\"solace-fonts-list\">\n\t\t\t\t\t\t{options.length ? (\n\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<li className=\"no-result\" key=\"no-results\">\n\t\t\t\t\t\t\t\t{__('No results.', 'solace')}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t};\n\t// eslint-disable-next-line max-len\n\tconst defaultFontface =\n\t\t'-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif';\n\tconst font = maybeGetTypekit(selected);\n\n\treturn (\n\t\t<div className=\"solace-font-family-control\">\n\t\t\t<span className=\"customize-control-title\">\n\t\t\t\t{__('Font Family', 'solace')}\n\t\t\t</span>\n\t\t\t<Button\n\t\t\t\tclassName=\"font-family-selector-toggle\"\n\t\t\t\tisSecondary\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetVisible(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<span className=\"ff-name\">\n\t\t\t\t\t{selected ||\n\t\t\t\t\t\t(inheritDefault\n\t\t\t\t\t\t\t? __('Inherit', 'solace')\n\t\t\t\t\t\t\t: __('Default', 'solace'))}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"ff-preview\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontFamily: font || defaultFontface,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tAbc\n\t\t\t\t</span>\n\t\t\t\t{visible && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\t\tonFocusOutside={() => {\n\t\t\t\t\t\t\tsetVisible(false);\n\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{fonts ? getFontList() : __('In Progress', 'solace')}\n\t\t\t\t\t</Popover>\n\t\t\t\t)}\n\t\t\t</Button>\n\t\t</div>\n\t);\n};\n\nFontFamilySelector.propTypes = {\n\tonFontChoice: PropTypes.func.isRequired,\n\tmaybeGetTypekit: PropTypes.func.isRequired,\n\tinheritDefault: PropTypes.bool.isRequired,\n\tselected: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n};\n\nexport default FontFamilySelector;\n","import PropTypes from 'prop-types';\n\nconst FontPreviewLink = ({ fontFace, onClick, label }) => {\n\tconst style = { fontFamily: fontFace + ', sans-serif' };\n\n\treturn (\n\t\t<a\n\t\t\tclassName=\"dropdown-font-list\"\n\t\t\thref=\"#font-list\"\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\tonClick();\n\t\t\t}}\n\t\t>\n\t\t\t<span className=\"solace-font-family\">{label || fontFace}</span>\n\t\t\t<span className=\"solace-font-preview\" style={style}>\n\t\t\t\tAbc\n\t\t\t</span>\n\t\t</a>\n\t);\n};\n\nFontPreviewLink.propTypes = {\n\tfontFace: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tlabel: PropTypes.string,\n};\n\nexport default FontPreviewLink;\n"],"names":["FontPreviewLink","VisibilitySensor","PropTypes","Popover","Button","TextControl","Icon","update","close","useState","__","FontFamilySelector","fonts","selected","onFontChoice","inheritDefault","maybeGetTypekit","systemFonts","visible","setVisible","search","setSearch","loadUntil","setLoadUntil","getFonts","result","Object","keys","map","key","filter","value","toLowerCase","includes","getFontList","groups","options","push","length","font","index","top","isVisible","e","preventDefault","stopPropagation","defaultFontface","fontFamily","propTypes","func","isRequired","bool","oneOfType","string","fontFace","onClick","label","style"],"sourceRoot":""}