{"version":3,"file":"2d0e96b3e55383d9c83e.js","mappings":"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","sources":["webpack://solace/./assets/apps/customizer-controls/src/ordering/Ordering.js"],"sourcesContent":["import { ReactSortable } from 'react-sortablejs';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\nimport { Tooltip, Icon } from '@wordpress/components';\n\nconst Handle = () => (\n\t<Tooltip text={__('Drag to Reorder', 'solace')}>\n\t\t<button\n\t\t\taria-label={__('Drag to Reorder', 'solace')}\n\t\t\tclassName=\"handle\"\n\t\t\tonClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t}}\n\t\t>\n\t\t\t<Icon icon=\"menu\" />\n\t\t</button>\n\t</Tooltip>\n);\n\nconst Item = ({ item, onToggle, components, allowsToggle = true }) => {\n\tconst label = components[item.id];\n\treturn (\n\t\t<div\n\t\t\tclassName={classnames({\n\t\t\t\t'solace-sortable-item': true,\n\t\t\t\t'no-toggle': !allowsToggle,\n\t\t\t\tvisible: item.visible,\n\t\t\t\tdisabled: !item.visible,\n\t\t\t})}\n\t\t>\n\t\t\t{allowsToggle && (\n\t\t\t\t<Tooltip text={__('Toggle Visibility', 'solace')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={__('Toggle Visibility', 'solace')}\n\t\t\t\t\t\tclassName=\"toggle\"\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tonToggle(item.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon=\"visibility\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t\t<span className=\"label\">{label}</span>\n\t\t\t{item.visible && <Handle />}\n\t\t</div>\n\t);\n};\n\nItem.propTypes = {\n\titem: PropTypes.object.isRequired,\n\tonToggle: PropTypes.func.isRequired,\n\tallowsToggle: PropTypes.bool.isRequired,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n};\n\nconst Ordering = ({\n\tlabel,\n\tonUpdate,\n\tvalue,\n\tcomponents,\n\tallowsToggle = true,\n}) => {\n\tconst handleToggle = (item) => {\n\t\tconst newValue = value.map((e) => {\n\t\t\tif (e.id === item) {\n\t\t\t\te.visible = !e.visible;\n\t\t\t}\n\t\t\treturn e;\n\t\t});\n\t\thandleChange(newValue);\n\t};\n\n\tconst handleChange = (newVal) => {\n\t\tconst updatedValue = newVal.sort((x, y) => {\n\t\t\tif (x.visible === y.visible) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (x.visible) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 1;\n\t\t});\n\t\tonUpdate(updatedValue);\n\t};\n\n\tvalue = value.filter((element) => {\n\t\treturn components.hasOwnProperty(element.id);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{label /* TODO: Add proper label id for this */ && (\n\t\t\t\t/* eslint-disable-next-line jsx-a11y/label-has-for */\n\t\t\t\t<label className=\"customize-control-title\">{label}</label>\n\t\t\t)}\n\t\t\t<ReactSortable\n\t\t\t\tclassName=\"items-list\"\n\t\t\t\tlist={value}\n\t\t\t\tsetList={handleChange}\n\t\t\t\tanimation={300}\n\t\t\t\thandle=\".handle\"\n\t\t\t>\n\t\t\t\t{value\n\t\t\t\t\t.filter((element) => {\n\t\t\t\t\t\treturn components.hasOwnProperty(element.id);\n\t\t\t\t\t})\n\t\t\t\t\t.map((item, index) => (\n\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\tkey={'ordering-element-' + index}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tonToggle={handleToggle}\n\t\t\t\t\t\t\tallowsToggle={allowsToggle}\n\t\t\t\t\t\t\tcomponents={components}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t</ReactSortable>\n\t\t</>\n\t);\n};\n\nOrdering.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\tonUpdate: PropTypes.func.isRequired,\n\tvalue: PropTypes.array.isRequired,\n\tallowsToggle: PropTypes.bool,\n\tcomponents: PropTypes.object.isRequired,\n};\n\nexport default Ordering;\n"],"names":["ReactSortable","classnames","PropTypes","__","Tooltip","Icon","Handle","e","preventDefault","Item","item","onToggle","components","allowsToggle","label","id","visible","disabled","stopPropagation","propTypes","object","isRequired","func","bool","className","string","Ordering","onUpdate","value","handleToggle","newValue","map","handleChange","newVal","updatedValue","sort","x","y","filter","element","hasOwnProperty","index","array"],"sourceRoot":""}