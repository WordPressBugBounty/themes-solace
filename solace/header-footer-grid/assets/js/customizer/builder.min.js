!function(){"use strict";function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function W(t,e){return t(e={exports:{}},e.exports),e.exports}function L(t){return t&&t.Math==Math&&t}function d(t){try{return!!t()}catch(t){return!0}}function N(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function G(t){if(yt(t))throw xt("Can't call method on "+t);return t}function n(t,e){return arguments.length<2?(n=f[t],I(n)?n:void 0):f[t]&&f[t][e];var n}function $(t){return Wt(G(t))}function U(t){return"Symbol("+(void 0===t?"":t)+")_"+$t(++Nt+Gt,36)}function e(t){return v(Bt,t)||(Bt[t]=c&&v(Ut,t)?Ut[t]:Ht("Symbol."+t)),Bt[t]}function B(t){return t=function(t,e){if(!p(t)||kt(t))return t;var n=Dt(t,Vt);if(n){if(n=C(n,t,e=void 0===e?"default":e),!p(n)||kt(n))return n;throw Xt("Can't convert object to primitive value")}return Rt(t,e=void 0===e?"number":e)}(t,"string"),kt(t)?t:t+""}function H(t){return de[t]||(de[t]=U(t))}function l(t,e,n,i){var r=(i=i||{}).enumerable,o=void 0!==i.name?i.name:e;if(I(n)&&be(n,o,i),i.global)r?t[e]=n:zt(e,n);else{try{i.unsafe?t[e]&&(r=!0):delete t[e]}catch(t){}r?t[e]=n:b.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}}function X(c){return function(t,e,n){var i,r=u(t),o=Pe(r),a=Oe(n,o);if(c&&e!=e){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((c||a in r)&&r[a]===e)return c||a||0;return!c&&-1}}function V(t,e){var n,i=u(t),r=0,o=[];for(n in i)!v(ge,n)&&v(i,n)&&je(o,n);for(;e.length>r;)!v(i,n=e[r++])||~Ae(o,n)||je(o,n);return o}function J(t,e,n){for(var i=ze(e),r=b.f,o=Zt.f,a=0;a<i.length;a++){var c=i[a];v(t,c)||n&&v(n,c)||r(t,c,o(e,c))}}function K(t,e){return(t=Le[We(t)])==Ge||t!=Ne&&(I(e)?d(e):!!e)}function i(t,e){var n,i,r,o=t.target,a=t.global,c=t.stat,s=a?f:c?f[o]||zt(o,{}):(f[o]||{}).prototype;if(s)for(n in e){if(i=e[n],r=t.dontCallGetSet?(r=Ue(s,n))&&r.value:s[n],!$e(a?n:o+(c?".":"#")+n,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;J(i,r)}(t.sham||r&&r.sham)&&se(i,"sham",!0),l(s,n,i,t)}}function Q(t){if("Function"===O(t))return h(t)}function Y(){}function q(t){if(!I(t))return!1;try{return Ye(Y,Qe,t),!0}catch(t){return!1}}function Z(t){if(!I(t))return!1;switch(Ke(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tn||!!Ze(qe,ue(t))}catch(t){return!0}}function tt(t,e){return new(on(t))(0===e?0:e)}function et(h){var p=1==h,v=2==h,m=3==h,b=4==h,w=6==h,y=7==h,x=5==h||w;return function(t,e,n,i){for(var r,o,a,c,s=$(t),l=wt(s),f=(o=n,Et(r=e),void 0===o?r:ft?Be(r,o):function(){return r.apply(o,arguments)}),u=Pe(l),d=0,n=i||tt,g=p?n(t,u):v||y?n(t,0):void 0;d<u;d++)if((x||d in l)&&(c=f(a=l[d],d,s),h))if(p)g[d]=c;else if(c)switch(h){case 3:return!0;case 5:return a;case 6:return d;case 2:an(g,a)}else switch(h){case 4:return!1;case 7:an(g,a)}return w?-1:m||b?b:g}}function nt(){}function it(t){t.write(gn("")),t.close();var e=t.parentWindow.Object;return t=null,e}function rt(e){return 51<=Ot||!d(function(){var t=[];return(t.constructor={})[wn]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function ot(t,e){var n=[][t];return!!n&&d(function(){n.call(null,e||function(){return 1},1)})}var at,ct,r,st,lt,f=L("object"==typeof globalThis&&globalThis)||L("object"==typeof window&&window)||L("object"==typeof self&&self)||L("object"==typeof t&&t)||function(){return this}()||Function("return this")(),g=!d(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ft=!d(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),ut=Function.prototype.call,C=ft?ut.bind(ut):function(){return ut.apply(ut,arguments)},t={}.propertyIsEnumerable,dt=Object.getOwnPropertyDescriptor,gt={f:dt&&!t.call({1:2},1)?function(t){t=dt(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,ht=t.call,t=ft&&t.bind.bind(ht,ht),h=ft?t:function(t){return function(){return ht.apply(t,arguments)}},pt=h({}.toString),vt=h("".slice),O=function(t){return vt(pt(t),8,-1)},mt=Object,bt=h("".split),wt=d(function(){return!mt("z").propertyIsEnumerable(0)})?function(t){return"String"==O(t)?bt(t,""):mt(t)}:mt,yt=function(t){return null==t},xt=TypeError,u=function(t){return wt(G(t))},t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},_t=t.all,I=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===_t}:function(t){return"function"==typeof t},St=t.all,p=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:I(t)||t===St}:function(t){return"object"==typeof t?null!==t:I(t)},Ct=h({}.isPrototypeOf),t="undefined"!=typeof navigator&&String(navigator.userAgent)||"",o=f.process,a=f.Deno,o=o&&o.versions||a&&a.version,a=o&&o.v8,Ot=m=!(m=a?0<(s=a.split("."))[0]&&s[0]<4?1:+(s[0]+s[1]):m)&&t&&(!(s=t.match(/Edge\/(\d+)/))||74<=s[1])&&(s=t.match(/Chrome\/(\d+)/))?+s[1]:m,c=!!Object.getOwnPropertySymbols&&!d(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ot&&Ot<41}),o=c&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=Object,kt=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return I(e)&&Ct(e.prototype,It(t))},Pt=String,At=function(t){try{return Pt(t)}catch(t){return"Object"}},jt=TypeError,Et=function(t){if(I(t))return t;throw jt(At(t)+" is not a function")},Dt=function(t,e){t=t[e];return yt(t)?void 0:Et(t)},Tt=TypeError,Rt=function(t,e){var n,i;if("string"===e&&I(n=t.toString)&&!p(i=C(n,t)))return i;if(I(n=t.valueOf)&&!p(i=C(n,t)))return i;if("string"!==e&&I(n=t.toString)&&!p(i=C(n,t)))return i;throw Tt("Can't convert object to primitive value")},Ft=Object.defineProperty,zt=function(e,n){try{Ft(f,e,{value:n,configurable:!0,writable:!0})}catch(t){f[e]=n}return n},a="__core-js_shared__",Mt=f[a]||zt(a,{}),s=W(function(t){(t.exports=function(t,e){return Mt[t]||(Mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.28.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),Wt=Object,Lt=h({}.hasOwnProperty),v=Object.hasOwn||function(t,e){return Lt($(t),e)},Nt=0,Gt=Math.random(),$t=h(1..toString),Ut=f.Symbol,Bt=s("wks"),Ht=o?Ut.for||Ut:Ut&&Ut.withoutSetter||U,Xt=TypeError,Vt=e("toPrimitive"),Jt=f.document,Kt=p(Jt)&&p(Jt.createElement),Qt=function(t){return Kt?Jt.createElement(t):{}},Yt=!g&&!d(function(){return 7!=Object.defineProperty(Qt("div"),"a",{get:function(){return 7}}).a}),qt=Object.getOwnPropertyDescriptor,Zt={f:g?qt:function(t,e){if(t=u(t),e=B(e),Yt)try{return qt(t,e)}catch(t){}if(v(t,e))return N(!C(gt.f,t,e),t[e])}},m=g&&d(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),te=String,ee=TypeError,k=function(t){if(p(t))return t;throw ee(te(t)+" is not an object")},ne=TypeError,ie=Object.defineProperty,re=Object.getOwnPropertyDescriptor,oe="enumerable",ae="configurable",ce="writable",b={f:g?m?function(t,e,n){var i;return k(t),e=B(e),k(n),"function"==typeof t&&"prototype"===e&&"value"in n&&ce in n&&!n[ce]&&(i=re(t,e))&&i[ce]&&(t[e]=n.value,n={configurable:(ae in n?n:i)[ae],enumerable:(oe in n?n:i)[oe],writable:!1}),ie(t,e,n)}:ie:function(t,e,n){if(k(t),e=B(e),k(n),Yt)try{return ie(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ne("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},se=g?function(t,e,n){return b.f(t,e,N(1,n))}:function(t,e,n){return t[e]=n,t},a=Function.prototype,o=g&&Object.getOwnPropertyDescriptor,w=v(a,"name"),le={EXISTS:w,PROPER:w&&"something"===function(){}.name,CONFIGURABLE:w&&(!g||o(a,"name").configurable)},fe=h(Function.toString),ue=(I(Mt.inspectSource)||(Mt.inspectSource=function(t){return fe(t)}),Mt.inspectSource),w=f.WeakMap,o=I(w)&&/native code/.test(String(w)),de=s("keys"),ge={},he="Object already initialized",pe=f.TypeError,a=f.WeakMap,ve=o||Mt.state?((r=Mt.state||(Mt.state=new a)).get=r.get,r.has=r.has,r.set=r.set,at=function(t,e){if(r.has(t))throw pe(he);return e.facade=t,r.set(t,e),e},ct=function(t){return r.get(t)||{}},function(t){return r.has(t)}):(st=H("state"),ge[st]=!0,at=function(t,e){if(v(t,st))throw pe(he);return e.facade=t,se(t,st,e),e},ct=function(t){return v(t,st)?t[st]:{}},function(t){return v(t,st)}),me={set:at,get:ct,has:ve,enforce:function(t){return ve(t)?ct(t):at(t,{})},getterFor:function(e){return function(t){if(p(t)&&(t=ct(t)).type===e)return t;throw pe("Incompatible receiver, "+e+" required")}}},be=W(function(t){var i=le.CONFIGURABLE,r=me.enforce,e=me.get,o=String,a=Object.defineProperty,c=h("".slice),s=h("".replace),l=h([].join),f=g&&!d(function(){return 8!==a(function(){},"length",{value:8}).length}),u=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===c(o(e),0,7)&&(e="["+s(o(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!v(t,"name")||i&&t.name!==e)&&(g?a(t,"name",{value:e,configurable:!0}):t.name=e),f&&n&&v(n,"arity")&&t.length!==n.arity&&a(t,"length",{value:n.arity});try{n&&v(n,"constructor")&&n.constructor?g&&a(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=r(t);return v(n,"source")||(n.source=l(u,"string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return I(this)&&e(this).source||ue(this)},"toString")}),we=Math.ceil,ye=Math.floor,xe=Math.trunc||function(t){t=+t;return(0<t?ye:we)(t)},_e=function(t){t=+t;return t!=t||0==t?0:xe(t)},Se=Math.max,Ce=Math.min,Oe=function(t,e){t=_e(t);return t<0?Se(t+e,0):Ce(t,e)},Ie=Math.min,ke=function(t){return 0<t?Ie(_e(t),9007199254740991):0},Pe=function(t){return ke(t.length)},w={includes:X(!0),indexOf:X(!1)},Ae=w.indexOf,je=h([].push),Ee=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],De=Ee.concat("length","prototype"),Te={f:Object.getOwnPropertyNames||function(t){return V(t,De)}},Re={f:Object.getOwnPropertySymbols},Fe=h([].concat),ze=n("Reflect","ownKeys")||function(t){var e=Te.f(k(t)),n=Re.f;return n?Fe(e,n(t)):e},Me=/#|\.prototype\./,We=K.normalize=function(t){return String(t).replace(Me,".").toLowerCase()},Le=K.data={},Ne=K.NATIVE="N",Ge=K.POLYFILL="P",$e=K,Ue=Zt.f,Be=Q(Q.bind),He=Array.isArray||function(t){return"Array"==O(t)},o={},a=(o[e("toStringTag")]="z","[object z]"===String(o)),Xe=e("toStringTag"),Ve=Object,Je="Arguments"==O(function(){return arguments}()),Ke=a?O:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ve(t),Xe))?e:Je?O(t):"Object"==(e=O(t))&&I(t.callee)?"Arguments":e},Qe=[],Ye=n("Reflect","construct"),qe=/^\s*(?:class|function)\b/,Ze=h(qe.exec),tn=!qe.exec(Y),en=(Z.sham=!0,!Ye||d(function(){var t;return q(q.call)||!q(Object)||!q(function(){t=!0})||t})?Z:q),nn=e("species"),rn=Array,on=function(t){var e;return void 0===(e=He(t)&&(e=t.constructor,en(e)&&(e===rn||He(e.prototype))||p(e)&&null===(e=e[nn]))?void 0:e)?rn:e},an=h([].push),o={forEach:et(0),map:et(1),filter:et(2),some:et(3),every:et(4),find:et(5),findIndex:et(6),filterReject:et(7)},cn=Object.keys||function(t){return V(t,Ee)},sn={f:g&&!m?Object.defineProperties:function(t,e){k(t);for(var n,i=u(e),r=cn(e),o=r.length,a=0;a<o;)b.f(t,n=r[a++],i[n]);return t}},ln=n("document","documentElement"),fn="prototype",un="script",dn=H("IE_PROTO"),gn=function(t){return"<"+un+">"+t+"</"+un+">"},hn=function(){try{lt=new ActiveXObject("htmlfile")}catch(t){}hn="undefined"==typeof document||document.domain&&lt?it(lt):(t=Qt("iframe"),e="java"+un+":",t.style.display="none",ln.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(gn("document.F=Object")),e.close(),e.F);for(var t,e,n=Ee.length;n--;)delete hn[fn][Ee[n]];return hn()},pn=(ge[dn]=!0,Object.create||function(t,e){var n;return null!==t?(nt[fn]=k(t),n=new nt,nt[fn]=null,n[dn]=t):n=hn(),void 0===e?n:sn.f(n,e)}),m=b.f,y=e("unscopables"),x=Array.prototype,vn=(null==x[y]&&m(x,y,{configurable:!0,value:pn(null)}),o.find),m="find",mn=!0,x=(m in[]&&Array(1)[m](function(){mn=!1}),i({target:"Array",proto:!0,forced:mn},{find:function(t){return vn(this,t,1<arguments.length?arguments[1]:void 0)}}),x[y][m]=!0,a?{}.toString:function(){return"[object "+Ke(this)+"]"}),bn=(a||l(Object.prototype,"toString",x,{unsafe:!0}),function(t,e,n){e=B(e);e in t?b.f(t,e,N(0,n)):t[e]=n}),wn=e("species"),yn=h([].slice),y=rt("slice"),xn=e("species"),_n=Array,Sn=Math.max,Cn=(i({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,i,r,o=u(this),a=Pe(o),c=Oe(t,a),s=Oe(void 0===e?a:e,a);if(He(o)&&(n=o.constructor,(n=en(n)&&(n===_n||He(n.prototype))||p(n)&&null===(n=n[xn])?void 0:n)===_n||void 0===n))return yn(o,c,s);for(i=new(void 0===n?_n:n)(Sn(s-c,0)),r=0;c<s;c++,r++)c in o&&bn(i,r,o[c]);return i.length=r,i}}),w.indexOf),On=Q([].indexOf),In=!!On&&1/On([1],1,-0)<0;i({target:"Array",proto:!0,forced:In||!ot("indexOf")},{indexOf:function(t){var e=1<arguments.length?arguments[1]:void 0;return In?On(this,t,e)||0:Cn(this,t,e)}});function kn(){var t=k(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}function Pn(r){return function(t,e){var n,t=P(G(t)),e=_e(e),i=t.length;return e<0||i<=e?r?"":void 0:(n=hi(t,e))<55296||56319<n||e+1===i||(i=hi(t,e+1))<56320||57343<i?r?gi(t,e):n:r?pi(t,e,e+2):i-56320+(n-55296<<10)+65536}}function An(c){return function(t){for(var e,n=u(t),i=cn(n),r=i.length,o=0,a=[];o<r;)e=i[o++],g&&!Ti(n,e)||Ri(a,c?[e,n[e]]:n[e]);return a}}function jn(t,e){var n=t.length,i=Ni(n/2);if(n<8){for(var r,o,a=t,c=e,s=a.length,l=1;l<s;){for(r=a[o=l];o&&0<c(a[o-1],r);)a[o]=a[--o];o!==l++&&(a[o]=r)}return a}for(var f=t,u=jn(Li(t,0,i),e),d=jn(Li(t,i),e),g=e,h=u.length,p=d.length,v=0,m=0;v<h||m<p;)f[v+m]=v<h&&m<p?g(u[v],d[m])<=0?u[v++]:d[m++]:v<h?u[v++]:d[m++];return f}function En(t,e,n){n.get&&be(n.get,e,{getter:!0}),n.set&&be(n.set,e,{setter:!0}),b.f(t,e,n)}function Dn(t,e){var n=E[t]=pn(ar);return rr(n,{type:ir,tag:t,description:e}),g||(n.description=e),n}function Tn(t,e,n){return t===j&&Tn(gr,e,n),k(t),e=B(e),k(n),(v(E,e)?(n.enumerable?(v(t,A)&&t[A][e]&&(t[A][e]=!1),n=pn(n,{enumerable:N(0,!1)})):(v(t,A)||lr(t,A,N(1,{})),t[A][e]=!0),pr):lr)(t,e,n)}function Rn(e,t){k(e);var n=u(t),t=cn(n).concat(Wn(n));return nr(t,function(t){g&&!C(Fn,n,t)||Tn(e,t,n[t])}),e}function Fn(t){var t=B(t),e=C(ur,this,t);return!(this===j&&v(E,t)&&!v(gr,t))&&(!(e||!v(this,t)||!v(E,t)||v(this,A)&&this[A][t])||e)}function zn(t,e){var n,t=u(t),e=B(e);if(t!==j||!v(E,e)||v(gr,e))return!(n=sr(t,e))||!v(E,e)||v(t,A)&&t[A][e]||(n.enumerable=!0),n}function Mn(t){var t=fr(u(t)),e=[];return nr(t,function(t){v(E,t)||v(ge,t)||dr(e,t)}),e}function Wn(t){var e=t===j,t=fr(e?gr:u(t)),n=[];return nr(t,function(t){!v(E,t)||e&&!v(j,t)||dr(n,E[t])}),n}function Ln(t,e){var n=yn(arguments),i=function(t){if(I(t))return t;if(He(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];"string"==typeof r?wr(i,r):"number"!=typeof r&&"Number"!=O(r)&&"String"!=O(r)||wr(i,P(r))}var o=i.length,a=!0;return function(t,e){if(a)return a=!1,e;if(He(this))return e;for(var n=0;n<o;n++)if(i[n]===t)return e}}}(e);if(I(i)||void 0!==t&&!kt(t))return n[1]=function(t,e){if(I(i)&&(e=C(i,this,yr(t),e)),!kt(e))return e},fi(xr,null,n)}function Nn(t,e,n){var i=Sr(n,e-1),n=Sr(n,e+1);return _r(Pr,t)&&!_r(Ar,n)||_r(Ar,t)&&!_r(Pr,i)?"\\u"+Ir(Cr(t,0),16):t}i({target:"Object",stat:!0,forced:d(function(){cn(1)})},{keys:function(t){return cn($(t))}});var Gn,$n,S,Un,Bn,Hn,Xn=String,P=function(t){if("Symbol"===Ke(t))throw TypeError("Cannot convert a Symbol value to a string");return Xn(t)},Vn=f.RegExp,m=d(function(){var t=Vn("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),a=m||d(function(){return!Vn("a","y").sticky}),x={BROKEN_CARET:m||d(function(){var t=Vn("^r","gy");return t.lastIndex=2,null!=t.exec("str")}),MISSED_STICKY:a,UNSUPPORTED_Y:m},Jn=f.RegExp,y=d(function(){var t=Jn(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),Kn=f.RegExp,w=d(function(){var t=Kn("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),Qn=me.get,Yn=s("native-string-replace",String.prototype.replace),qn=RegExp.prototype.exec,Zn=qn,ti=h("".charAt),ei=h("".indexOf),ni=h("".replace),ii=h("".slice),ri=(a=/b*/g,C(qn,m=/a/,"a"),C(qn,a,"a"),0!==m.lastIndex||0!==a.lastIndex),oi=x.BROKEN_CARET,ai=void 0!==/()??/.exec("")[1],ci=Zn=ri||ai||oi||y||w?function(t){var e,n,i,r,o,a,c=this,s=Qn(c),t=P(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,u=C(Zn,l,t),c.lastIndex=l.lastIndex,u;var f=s.groups,l=oi&&c.sticky,u=C(kn,c),s=c.source,d=0,g=t;if(l&&(u=ni(u,"y",""),-1===ei(u,"g")&&(u+="g"),g=ii(t,c.lastIndex),0<c.lastIndex&&(!c.multiline||c.multiline&&"\n"!==ti(t,c.lastIndex-1))&&(s="(?: "+s+")",g=" "+g,d++),e=new RegExp("^(?:"+s+")",u)),ai&&(e=new RegExp("^"+s+"$(?!\\s)",u)),ri&&(n=c.lastIndex),i=C(qn,l?e:c,g),l?i?(i.input=ii(i.input,d),i[0]=ii(i[0],d),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:ri&&i&&(c.lastIndex=c.global?i.index+i[0].length:n),ai&&i&&1<i.length&&C(Yn,i[0],e,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i&&f)for(i.groups=o=pn(null),r=0;r<f.length;r++)o[(a=f[r])[0]]=i[a[1]];return i}:Zn,m=(i({target:"RegExp",proto:!0,forced:/./.exec!==ci},{exec:ci}),Function.prototype),si=m.apply,li=m.call,fi="object"==typeof Reflect&&Reflect.apply||(ft?li.bind(si):function(){return li.apply(si,arguments)}),ui=e("species"),di=RegExp.prototype,gi=h("".charAt),hi=h("".charCodeAt),pi=h("".slice),vi={codeAt:Pn(!1),charAt:Pn(!0)}.charAt,mi=Math.floor,bi=h("".charAt),wi=h("".replace),yi=h("".slice),xi=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_i=/\$([$&'`]|\d{1,2})/g,Si=TypeError,Ci=e("replace"),Oi=Math.max,Ii=Math.min,ki=h([].concat),Pi=h([].push),Ai=h("".indexOf),ji=h("".slice),a="$0"==="a".replace(/./,"$0"),Ei=!!/./[Ci]&&""===/./[Ci]("a","$0"),x=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Di=(y=function(t,x,_){var S=Ei?"$":"$0";return[function(t,e){var n=G(this),i=yt(t)?void 0:Dt(t,Ci);return i?C(i,t,n,e):C(x,P(n),t,e)},function(t,e){var n=k(this),i=P(t);if("string"==typeof e&&-1===Ai(e,S)&&-1===Ai(e,"$<")){t=_(x,n,i,e);if(t.done)return t.value}for(var r,o,a,c=I(e),s=(c||(e=P(e)),n.global),l=(s&&(r=n.unicode,n.lastIndex=0),[]);null!==(h=function(t,e){var n=t.exec;if(I(n))return null!==(n=C(n,t,e))&&k(n),n;if("RegExp"===O(t))return C(ci,t,e);throw Si("RegExp#exec called on incompatible receiver")}(n,i))&&(Pi(l,h),s);)""===P(h[0])&&(n.lastIndex=(o=i,(a=ke(n.lastIndex))+(r?vi(o,a).length:1)));for(var f,u="",d=0,g=0;g<l.length;g++){for(var h,p=P((h=l[g])[0]),v=Oi(Ii(_e(h.index),i.length),0),m=[],b=1;b<h.length;b++)Pi(m,void 0===(f=h[b])?f:String(f));var w=h.groups,y=c?(y=ki([p],m,v,i),void 0!==w&&Pi(y,w),P(fi(e,void 0,y))):function(o,a,c,s,l,t){var f=c+o.length,u=s.length,e=_i;return void 0!==l&&(l=$(l),e=xi),wi(t,e,function(t,e){var n;switch(bi(e,0)){case"$":return"$";case"&":return o;case"`":return yi(a,0,c);case"'":return yi(a,f);case"<":n=l[yi(e,1,-1)];break;default:var i,r=+e;if(0==r)return t;if(u<r)return 0!==(i=mi(r/10))&&i<=u?void 0===s[i-1]?bi(e,1):s[i-1]+bi(e,1):t;n=s[r-1]}return void 0===n?"":n})}(p,i,v,m,w,e);d<=v&&(u+=ji(i,d,v)+y,d=v+p.length)}return u+ji(i,d)}]},w=!x||!a||Ei,S=e(Gn="replace"),Un=!d(function(){var t={};return t[S]=function(){return 7},7!=""[Gn](t)}),m=Un&&!d(function(){var t=!1,e=/a/;return"split"===Gn&&((e={constructor:{}}).constructor[ui]=function(){return e},e.flags="",e[S]=/./[S]),e.exec=function(){return t=!0,null},e[S](""),!t}),Un&&m&&!w||($n=Q(/./[S]),m=y(S,""[Gn],function(t,e,n,i,r){var t=Q(t),o=e.exec;return o===ci||o===di.exec?Un&&!r?{done:!0,value:$n(e,n,i)}:{done:!0,value:t(n,e,i)}:{done:!1}}),l(String.prototype,Gn,m[0]),l(di,S,m[1])),Ji&&se(di[S],"sham",!0),o.filter),x=(i({target:"Array",proto:!0,forced:!rt("filter")},{filter:function(t){return Di(this,t,1<arguments.length?arguments[1]:void 0)}}),gt.f),Ti=h(x),Ri=h([].push),Fi={entries:An(!0),values:An(!1)}.values,zi=(i({target:"Object",stat:!0},{values:function(t){return Fi(t)}}),TypeError),Mi=Array,Wi=Math.max,Li=function(t,e,n){for(var i=Pe(t),r=Oe(e,i),o=Oe(void 0===n?i:n,i),a=Mi(Wi(o-r,0)),c=0;r<o;r++,c++)bn(a,c,t[r]);return a.length=c,a},Ni=Math.floor,Gi=jn,a=t.match(/firefox\/(\d+)/i),$i=!!a&&+a[1],Ui=/MSIE|Trident/.test(t),w=t.match(/AppleWebKit\/(\d+)\./),Bi=!!w&&+w[1],Hi=[],Xi=h(Hi.sort),Vi=h(Hi.push),y=d(function(){Hi.sort(void 0)}),m=d(function(){Hi.sort(null)}),Ji=ot("sort"),Ki=!d(function(){if(Ot)return Ot<70;if(!($i&&3<$i)){if(Ui)return 1;if(Bi)return Bi<603;for(var t,e,n,i="",r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)Hi.push({k:t+n,v:e})}for(Hi.sort(function(t,e){return e.v-t.v}),n=0;n<Hi.length;n++)t=Hi[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}),Qi=(i({target:"Array",proto:!0,forced:y||!m||!Ji||!Ki},{sort:function(t){void 0!==t&&Et(t);var e=$(this);if(Ki)return void 0===t?Xi(e):Xi(e,t);for(var n,i,r=[],o=Pe(e),a=0;a<o;a++)a in e&&Vi(r,e[a]);for(Gi(r,(i=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==i?+i(t,e)||0:P(t)>P(e)?1:-1})),n=Pe(r),a=0;a<n;)e[a]=r[a++];for(;a<o;){var c=e;var s=a++;if(!delete c[s])throw zi("Cannot delete property "+At(s)+" of "+At(c))}return e}}),o.map),Yi=(i({target:"Array",proto:!0,forced:!rt("map")},{map:function(t){return Qi(this,t,1<arguments.length?arguments[1]:void 0)}}),Te.f),qi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x={f:function(t){if(!qi||"Window"!=O(t))return Yi(u(t));try{return Yi(t)}catch(t){return Li(qi)}}},Zi={f:e},tr=f,er=b.f,a=b.f,t=e("toStringTag"),nr=o.forEach,A=H("hidden"),ir="Symbol",w="prototype",rr=me.set,or=me.getterFor(ir),j=Object[w],y=f.Symbol,ar=y&&y[w],cr=f.TypeError,m=f.QObject,sr=Zt.f,lr=b.f,fr=x.f,ur=gt.f,dr=h([].push),E=s("symbols"),gr=s("op-symbols"),Ji=s("wks"),hr=!m||!m[w]||!m[w].findChild,pr=g&&d(function(){return 7!=pn(lr({},"a",{get:function(){return lr(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=sr(j,e);i&&delete j[e],lr(t,e,n),i&&t!==j&&lr(j,e,i)}:lr,Ji=(c||(ar=(y=function(){if(Ct(ar,this))throw cr("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?P(arguments[0]):void 0,e=U(t),n=function(t){this===j&&C(n,gr,t),v(this,A)&&v(this[A],e)&&(this[A][e]=!1),pr(this,e,N(1,t))};return g&&hr&&pr(j,e,{configurable:!0,set:n}),Dn(e,t)})[w],l(ar,"toString",function(){return or(this).tag}),l(y,"withoutSetter",function(t){return Dn(U(t),t)}),gt.f=Fn,b.f=Tn,sn.f=Rn,Zt.f=zn,Te.f=x.f=Mn,Re.f=Wn,Zi.f=function(t){return Dn(e(t),t)},g&&(En(ar,"description",{configurable:!0,get:function(){return or(this).description}}),l(j,"propertyIsEnumerable",Fn,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:y}),nr(cn(Ji),function(t){var e;t=t,e=tr.Symbol||(tr.Symbol={}),v(e,t)||er(e,t,{value:Zi.f(t)})}),i({target:ir,stat:!0,forced:!c},{useSetter:function(){hr=!0},useSimple:function(){hr=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!g},{create:function(t,e){return void 0===e?pn(t):Rn(pn(t),e)},defineProperty:Tn,defineProperties:Rn,getOwnPropertyDescriptor:zn}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Mn}),o=(o=n("Symbol"))&&o.prototype,Bn=o&&o.valueOf,m=e("toPrimitive"),o&&!o[m]&&l(o,m,function(t){return C(Bn,this)},{arity:1}),w=ir,(x=(x=y)&&!Hn?x.prototype:x)&&!v(x,t)&&a(x,t,{configurable:!0,value:w}),ge[A]=!0,c&&!!Symbol.for&&!!Symbol.keyFor),vr=s("string-to-symbol-registry"),mr=s("symbol-to-string-registry"),br=(i({target:"Symbol",stat:!0,forced:!Ji},{for:function(t){var e,t=P(t);return v(vr,t)?vr[t]:(e=n("Symbol")(t),vr[t]=e,mr[e]=t,e)}}),s("symbol-to-string-registry")),wr=(i({target:"Symbol",stat:!0,forced:!Ji},{keyFor:function(t){if(!kt(t))throw TypeError(At(t)+" is not a symbol");if(v(br,t))return br[t]}}),h([].push)),yr=String,xr=n("JSON","stringify"),_r=h(/./.exec),Sr=h("".charAt),Cr=h("".charCodeAt),Or=h("".replace),Ir=h(1..toString),kr=/[\uD800-\uDFFF]/g,Pr=/^[\uD800-\uDBFF]$/,Ar=/^[\uDC00-\uDFFF]$/,jr=!c||d(function(){var t=n("Symbol")();return"[null]"!=xr([t])||"{}"!=xr({a:t})||"{}"!=xr(Object(t))}),Er=d(function(){return'"\\udf06\\ud834"'!==xr("\udf06\ud834")||'"\\udead"'!==xr("\udead")});xr&&i({target:"JSON",stat:!0,arity:3,forced:jr||Er},{stringify:function(t,e,n){var i=yn(arguments),i=fi(jr?Ln:xr,null,i);return Er&&"string"==typeof i?Or(i,kr,Nn):i}});i({target:"Object",stat:!0,forced:!c||d(function(){Re.f(1)})},{getOwnPropertySymbols:function(t){var e=Re.f;return e?e($(t)):[]}});var Dr,Tr,Rr,Fr,zr,Mr,Wr,Lr,D,Nr,T,Gr,R,F,z=f.Symbol,$r=z&&z.prototype;!g||!I(z)||"description"in $r&&void 0===z().description||(Dr={},J(o=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:P(arguments[0]),e=Ct($r,this)?new z(t):void 0===t?z():z(t);return""===t&&(Dr[e]=!0),e},z),(o.prototype=$r).constructor=o,Tr="Symbol(test)"==String(z("test")),Rr=h($r.valueOf),Fr=h($r.toString),zr=/^Symbol\((.*)\)[^)]+$/,Mr=h("".replace),Wr=h("".slice),En($r,"description",{configurable:!0,get:function(){var t=Rr(this);return v(Dr,t)?"":(t=Fr(t),""===(t=Tr?Wr(t,7,-1):Mr(t,zr,"$1"))?void 0:t)}}),i({global:!0,constructor:!0,forced:!0},{Symbol:o}));function Ur(t){var e=R(".hfg--cp-sidebar .toggle");!0===t?(e.addClass("active"),F.previewer.send("header_sidebar_open")):!1===t?(e.removeClass("active"),F.previewer.send("header_sidebar_close")):(e.hasClass("active")?F.previewer.send("header_sidebar_close"):F.previewer.send("header_sidebar_open"),e.toggleClass("active"))}D=jQuery,Nr=D(document),T=wp.customize||null,Gr=HFG_Layout_Builder.isRTL,Lr=function(a,c){var t={id:c,controlId:"",cols:12,cellHeight:45,items:[],container:null,widgetsSidebar:null,ready:!1,devices:{desktop:"Desktop",mobile:"Mobile/Tablet"},activePanel:"desktop",panels:{},activeRow:"main",draggingItem:null,insertPoint:null,insertRow:null,getTemplate:_.memoize(function(){var i=this,r={evaluate:/<#([\s\S]+?)#>/g,interpolate:/{{{([\s\S]+?)}}}/g,escape:/{{([^}]+?)}}(?!})/g,variable:"data"};return function(t,e,n){return _.isUndefined(e)&&(e="tmpl-customize-control-"+i.type),!_.isUndefined(n)&&_.isString(n)?r.variable=n:r.variable="data",_.template(D("#"+e).html(),null,r)(t)}}),drag_drop:function(){var r=this;D(".hfg--device-panel",r.container).each(function(){var n=D(this),i=n.data("device"),t=(r.panels[i]={},D(".hfg--cb-items",n).each(function(t){var e=D(this).attr("data-id")||"",e=e?"_sid_"+i+"-"+e:"_sid_"+i+t;D(this).attr("id",e)}),D(".grid-stack, .hfg--sidebar-items",n).each(function(){var t=D(this).attr("data-id")||"";r.panels[i][t]=D(this),D(this).droppable({out:function(t,e){},over:function(t,e){},drop:function(t,e){var n=D(this);r.gridster(n,e,t),r.save()}})}),D("#_sid_mobile-sidebar",n)),e=t.attr("id")||!1;D(".grid-stack-item",n).draggable({revert:"invalid",connectToSortable:!!e&&"#"+e,start:function(t,e){D("body").addClass("builder-item-moving"),D(".hfg--cb-items",n).css("z-index",""),e.helper.parent().css("z-index",9999)},stop:function(t,e){D("body").removeClass("builder-item-moving"),D(".hfg--cb-items",n).css("z-index",""),e.helper.parent().css("z-index","")}}),0<t.length&&(t.sortable({revert:!0,change:function(t,e){r.save()},receive:function(t,e){D(this).find(".grid-stack-item").removeAttr("style").attr("data-gs-width",1),r.save()}}),r.panels[i].sidebar=t)})},sortGrid:function(t){D(".grid-stack-item",t).each(function(){var t,e=D(this),n=e.attr("data-gs-x")||0,n=parseInt(n),i=e.next();0<i.length&&(t=i.attr("data-gs-x")||0,(t=parseInt(t))<n)&&e.insertAfter(i)})},getX:function(t){t=t.attr("data-gs-x")||0;return parseInt(t)},getW:function(t,e){e=(e=_.isUndefined(e)?!1:e)?t.attr("data-df-width")||1:t.attr("data-gs-width")||1;return parseInt(e)},gridGetItemInfo:function(t,e,n){for(var i=this.getX(t),r=this.getW(t),o=0,a=0,c=!1,s=i-1;0<=s&&!c;)0===e[s]?o++:c=!0,s--;for(c=!1,s=i+r;s<this.cols&&!c;)0===e[s]?a++:c=!0,s++;return{flag:e,x:i,w:r,item:t,before:o,after:a,id:t.attr("data-id")||"",wrapper:n}},updateItemsPositions:function(t){for(var e=this.cols,n=0;n<=e;n++)"object"!==M(t[n])&&"function"!=typeof t[n]||t[n].attr("data-gs-x",n)},gridster:function(t,e,n){var i,r,o,b=[],w=this.cols,y=function(t){for(var e=t.x,n=t.w,i=t.el,r=e;r<e+n;r++)b[r]=r===e?i:1},a=function(t){for(var e=t.x,n=t.w,i=e;i<e+n;i++)b[i]=0},x=function(){for(var t=0,e=0;e<w;e++)0===b[e]&&t++;return t},S=function(t,e){for(var n=0,i=t;i<w;i++)if(0===b[i])n++;else if(e)return n;return n},C=function(t,e){var n=0;void 0===e&&(e=!1);for(var i=t;0<=i;i--)if(0===b[i])n++;else if(e)return n;return n},O=function(t){return 0===b[t]},I=function(t,e){for(var n=t;n<t+e;){if(0!==b[n])return!1;n++}return!0},k=function(t){if(t<0)return{x:-1,w:1};var e,n,i,r=-1;if(b[t]<=1)for(e=t,i=!1;0<=e&&!i;)1!==b[e]&&0!==b[e]&&(r=e,i=!0),e--;else r=t;for(e=r+1,n=r;1===b[e];)n++,e++;return{x:r,w:n+1-r}},P=function(t){var e,n,i,r=-1;if(b[t]<w)for(e=t,i=!1;e<w&&!i;)1!==b[e]&&0!==b[e]&&(r=e,i=!0),e++;else r=t;for(e=r+1,n=r;1===b[e];)n++,e++;return{x:r,w:n+1-r}},A=function(t,e){var n=b.slice(),i=C(t);if(0===i)return e;for(var r=k(t),o=0<=r.x?r.x+r.w-1:t,a=e,c=(i<e&&(a=i),0),s=0,l=o;s<=a&&0<=l;)0===b[l]&&(s++,c=l),l--;for(var f=[],u=0,l=c;l<=o;l++)(b[l]=0)!==n[l]&&(f[u]=n[l],u++);for(u=0,l=c;l<=o;l++)b[l]=void 0!==f[u]?f[u]:0,u++;return e-a},j=function(t,e){var n=b.slice(),i=S(t);if(0===i)return e;for(var r=k(t),o=0<=r.x?r.x:t,a=e,c=(i<e&&(a=i),t),s=0,l=o;s<a&&l<w;)0===b[l]&&(s++,c=l),l++;for(var f=[],u=0,l=o;l<=c;l++)(b[l]=0)!==n[l]&&(f[u]=n[l],u++);for(u=f.length-1,l=c;o<=l;l--)b[l]=void 0!==f[u]?f[u]:0,u--;return e-a},E=function(){D.updateItemsPositions(b)},c=function(t,e){var n,i,r=t.x,o=t.w,a=x();if(!(a<=0)){if(!(e=_.isUndefined(e)?!1:e)){if(O(r)){if(I(r,i=o))return y(t),t.el.attr("data-gs-x",r),t.el.attr("data-gs-width",i),!0;for((n=o<=(h=S(r,!0))+(e=C(r-1,!0))&&o-h<=e?r-(o-h):r-e)<0&&(n=0);1<=i;){if(I(n,i))return t.x=n,t.w=i,y(t),t.el.attr("data-gs-x",n),t.el.attr("data-gs-width",i),!0;i--}}if(1===b[r]){e=k(r);if(0<=e.x&&r>e.x+Math.floor(e.w/2)&&r>e.x&&(n=e.x+e.w,o<=(h=S(n,!0))))return y({el:t.el,x:n,w:o}),t.el.attr("data-gs-x",n),t.el.attr("data-gs-width",o),!0}}console.log("--------------------------------------------------------");var c,s,l,f,u=t,d=_.clone(r),e=0,g=!1;if(console.log("insert at x",d),console.log("insert node",u),O(d)){if(console.log("empty_at_X",d),l=k(d),h=P(d),-1<l.x){if(console.log("found_item_left",l),(e=S(l.x))>=u.w)if(I(d,u.w))console.log("found",u),r=d,g=!0;else if(u.ox>d)for(f=l.x+l.w,v=(v=C(f))<=u.w?u.w-v:u.w,j(f+1,v),e=S(f),console.log("loop_start_i",f);f>l.x+l.w&&!g;)I(f,u.w)&&(console.log("found_in_loop__i",f),r=f,g=!0),f--;if(!g&&u.ox<d){console.log("try_move_items_to_left",l),f=l.x+l.w-1,v=C(l.x),console.log("el",v),v>u.w&&(v=u.w),A(l.x,v-=2),console.log("try_move_items_to_left_flag",b),console.log("el2",v),f-=e=S(f);var h=P(d),p=l.x+l.w;for(-1<h.x&&(p=h.x),console.log("loop_start 2_i",f);f<p&&!g;)I(f,u.w)&&(console.log("found_in_loop__@__i",f),r=f,g=!0),f++}g||(r=l.x+l.w,u.w=e,u.x=r,console.log("resize_new_w",e),console.log("resize_new_x",r))}else if(-1<h.x){console.log("found_item_right",h),h=P(d),e=S(d,!1),console.log("move_all_item_to Right");var v=e>=u.w?u.w:e;for(j(d,v),f=h.x,console.log("loop_start Right",f);0<=f&&!g;)I(f,u.w)&&(r=f,u.x=r,g=!0,console.log("found_in_while_r",f)),f--;g||(r=d,u.w=e,u.x=r,console.log("resize_r_new_w",e),console.log("resize_r_new_x",r))}}else{if(console.log("x is not empty"),l=k(d),u.ox<l.x){if(A(d,u.w),console.log("Move All items to left"),!O(d))for(;!O(d)&&d<=D.cols-1;)d++}else if(j(d,u.w),console.log("Move All items to right"),!O(d))for(;!O(d)&&0<=d;)d--;r=d}r>D.cols&&(r=D.cols-1),u.x=r,console.log("new node x",r);var m=0;for(r+o>D.cols-1&&(m=C(r,!0),console.log("le",m),0<m)&&console.log("move_Left",r+o-D.cols-1),E();1<=o;){if(o<=a){if(I(r,o))return console.log("",{x:r,w:o}),t.w=o,y(t),t.el.attr("data-gs-x",r),t.el.attr("data-gs-width",o),!0;for(m=C(r,!0),c=r-m,console.log("newX",c),s=c;s<w;){if(I(s,o))return console.log("Insert in While",{x:s,w:o}),t.w=o,y({el:t.el,x:s,w:o}),t.el.attr("data-gs-x",s),t.el.attr("data-gs-width",o),!0;s++}}o--}for(o=t.w;1<=o;){for(s=0;s<w;){if(I(s,o))return console.log("Insert in While 2",{x:s,w:o}),y({el:t.el,x:s,w:o}),t.el.attr("data-gs-x",s),t.el.attr("data-gs-width",o),!0;s++}o--}console.log("Insert END While",{x:s,w:o})}return!1},D=this,s=(b=D.getFlag(t)).slice(),l=t.offset(),f=(D.draggingItem=e.draggable,t.width()),u=f/D.cols,d=e.offset,g=D.getW(e.draggable,!1),h=D.getW(e.draggable,!0),p=e.draggable.width(),v=(console.log("DROP ITEM WIDTH",h),console.log("DROP ITEM cw WIDTH",g),D.getX(e.draggable)),m=(Gr&&a({el:e.draggable,x:v,w:h}),0),T=0,R=!1;if(e.draggable.parent().is(t)?(r=!0,console.log("Item in this row"),h=g):(r=!1,console.log("Not in this row"),h<g&&(h=g)),Gr?(m=Math.round((l.left+f+10-n.clientX)/u),(T=Math.round((l.left+f-(d.left+p+10))/u))<0&&(T=0)):(m=Math.round((n.clientX-l.left)/u),(T=Math.round((d.left-l.left-10)/u))<0&&(T=0)),m>D.cols&&(m=D.cols),o=i=T,Gr){if(!O(o))for(;o<D.cols&&!R;)O(o)?R=!0:o++}else if(!O(i)){for(;i<=m&&!R;)O(i)?R=!0:i++;m<i&&(i=m)}if((i=(i=R?i:r?T:m)<0?0:i)+h>=D.cols){for(R=!0,o=i;o+h>D.cols&&R;)O(o)?o--:(o++,R=!1);i=o}f={el:e.draggable,x:i,w:h,ox:v,ow:g};f.x<=0&&(f.x=0);(r?(f.x=parseInt(e.draggable.attr("data-gs-x")||0),f.w=parseInt(e.draggable.attr("data-gs-width")||1),function(t,e){var n=t.w,i=(a(t),k(e)),r=0;if(-1<i.x&&(r=i.x+i.w),I(e,n))return y({el:t.el,x:e,w:n});if(0<r&&I(r,n)&&r<=e){i=P(e);if(-1<i.x&&t.w+e>=i.x)for(var o=_.clone(e);r<o;){if(I(o,n))return y({el:t.el,x:o,w:n});o--}if(e+n>D.cols){i=D.cols-n;if(I(i,n))return y({el:t.el,x:i,w:n})}return y({el:t.el,x:r,w:n})}t.x=e,c(t,!0)}(f,i),!0):c(f))?(e.draggable.removeClass("item-from-list"),t.append(e.draggable),e.draggable.removeAttr("style"),console.log("DID Flag: ",b),D.draggingItem=null):(e.draggable.removeAttr("style"),console.log("Can not insert"),b=s),E(),D.updateAllGrids()},updateAllGrids:function(){var n=this;_.each(n.panels[n.activePanel],function(t,e){n.updateGridFlag(t)})},setGridWidth:function(t,e){var n,i,r,o,a=this,c=e.element,s=t.width(),l=e.size.width,f=e.originalSize.width,s=Math.ceil(s/a.cols)-1,f=Gr?(o=e.originalPosition.left>e.position.left,f!==l):(o=e.originalPosition.left>e.position.left,e.originalPosition.left<e.position.left),u=e.originalElement.attr("data-gs-width")||1,d=e.originalElement.attr("data-gs-x")||0,u=parseInt(u),d=parseInt(d),g=a.getFlag(t),g=a.gridGetItemInfo(e.originalElement,g,t);(o?((Gr?(i=Math.floor((e.position.left-1)/s),r=u+(n=(n=(i=a.cols-i)-d-u)>g.after?g.after:n),c.attr("data-gs-x",d)):(r=u+(n=(n=d-(i=Math.floor((e.position.left-1)/s)))>g.before?g.before:n),c.attr("data-gs-x",i=d-n))).removeAttr("style"),c.attr("data-gs-width",r)):f?((Gr?(e.originalPosition.left!==e.position.left?(i=Math.floor((e.position.left-1)/s),r=u-(n=u<(n=u+d-(i=a.cols-i))?0:n),(i=d)<=0&&(i=0),console.log("diffRight_RTL_COL_New __left")):(i=Math.ceil((e.position.left+e.size.width-11)/s),i=d-(n=(n=d-(i=a.cols-i))>g.before?g.before:n),r=u+n),c.attr("data-gs-x",i)):((r=u-(n=(i=Math.round((e.position.left-1)/s))-d))<=0&&(r=1,n=0),c.attr("data-gs-x",i=d+n))).removeAttr("style"),c.attr("data-gs-width",r)):(o=g.x,f=Math.ceil((e.position.left+e.size.width-11)/s),u=g.w+(f-(o+g.w)),g.x+u>g.x+g.w+g.after&&(u=g.w+g.after),l<e.originalSize.width&&(f=Math.round((e.position.left+e.size.width-11)/s),u=g.w-(o+g.w-(f=f<=o?o+1:f))),c.attr("data-gs-width",u=u<=0?1:u))).removeAttr("style"),a.updateGridFlag(t)},getFlag:function(t){var e,n=t.data("gridRowFlag")||[];if(_.isEmpty(n)){for(e=0;e<this.cols;e++)n[e]=0;t.data("gridRowFlag",n)}return n},updateGridFlag:function(t){for(var i=this,r=[],o=0;o<i.cols;o++)r[o]=0;return D(".grid-stack-item",t).each(function(t){D(this).removeAttr("style");var e=i.getX(D(this)),n=i.getW(D(this));for(o=e;o<e+n;o++)r[o]=o===e?D(this):1}),t.data("gridRowFlag",r),i.updateItemsPositions(r),i.sortGrid(t),r},addNewWidget:function(t,e){var n=this,i=n.container.find(".hfg--device-panel.hfg--panel-"+n.activePanel);_.isObject(e)||(e=i.find(".hfg--cb-items").first());t.draggable({revert:"invalid",appendTo:i,scroll:!1,zIndex:99999,handle:".grid-stack-item-content",start:function(t,e){D("body").addClass("builder-item-moving"),D(".hfg--cb-items",i).css("z-index",""),e.helper.parent().css("z-index",9999)},stop:function(t,e){D("body").removeClass("builder-item-moving"),D(".hfg--cb-items",i).css("z-index",""),n.save()},drag:function(t,e){}}).resizable({handles:"w, e",start:function(t,e){e.originalElement.css({right:"auto",left:e.position.left})},stop:function(t,e){n.setGridWidth(e.element.parent(),e),n.save()}}),e.append(t),n.updateGridFlag(e),t[0]&&D("#accordion-section-"+t[0].dataset.section).removeClass("hfg-section-inactive")},addPanel:function(t){var e=this.getTemplate(),n="tmpl-hfg--cb-panel";if(0!==D("#"+n).length)return _.isObject(a.rows)||(a.rows={}),'<div class="hfg--device-panel hfg-vertical-panel hfg--panel-'+t+'" data-device="'+t+'">'+e({device:t,id:a.id,rows:a.rows},n)+"</div>"},addDevicePanels:function(){var i=this;_.each(i.devices,function(t,e){var n=i.addPanel(e);D(".hfg--cb-devices-switcher",i.container).append('<a href="#" class="switch-to switch-to-'+e+'" data-device="'+e+'"><span class="icon '+e+'-icon"></span><span>'+t+"</span></a>"),D(".hfg--cb-body",i.container).append(n),D(".hfg-widgets-panel-inner",i.widgetSidebarContainer).append('<div class=" hfg--widgets hfg--widgets-'+e+'" data-device="'+e+'"></div>')}),D(i.container).find(".welcome-notice").removeClass("hidden"),D(i.container).find(".conditional-header").addClass("hidden")},addItem:function(t,e){var n=this.getTemplate(),i="tmpl-hfg--cb-item";if(0!==D("#"+i).length)return t.elementOrder=e,e=n(t,i),D(e)},addAvailableItems:function(){var o=this;_.each(o.devices,function(t,r){_.each(o.items,function(t,e){var n,i=!0;_.isUndefined(t.devices)||_.isEmpty(t.devices)||(_.isString(t.devices)?t.devices!==r&&(i=!1):(n=!1,_.each(t.devices,function(t){r===t&&(n=!0)}),n||(i=!1))),i&&(e=Object.keys(o.items).indexOf(e),i=o.addItem(t,e),D(".hfg--widgets-"+r,o.widgetSidebarContainer).prepend(i))})})},switchToDevice:function(t,e){var n=this;1<_.size(n.devices)?(D(".hfg--cb-devices-switcher a",n.container).removeClass("hfg--tab-active"),D(".hfg--cb-devices-switcher .switch-to-"+t,n.container).addClass("hfg--tab-active"),D(".hfg--device-panel",n.container).addClass("hfg--panel-hide"),D(".hfg--device-panel.hfg--panel-"+t,n.container).removeClass("hfg--panel-hide"),n.activePanel=t,D(".hfg--device-panel .hfg-available-items .item-from-list").each(function(t,e){D("#accordion-section-"+D(e)[0].dataset.section).removeClass("hfg-section-inactive")}),D(".hfg--device-panel.hfg--panel-"+t+" .hfg-available-items .item-from-list").each(function(t,e){D("#accordion-section-"+D(e)[0].dataset.section).addClass("hfg-section-inactive")})):(D(".hfg--device-panel.hfg--panel-"+t+" .hfg-available-items .item-from-list").each(function(t,e){D("#accordion-section-"+D(e)[0].dataset.section).addClass("hfg-section-inactive")}),D(".hfg--cb-devices-switcher a",n.container).addClass("hfg--tab-active")),(_.isUndefined(e)||e)&&D("desktop"===t?"#customize-footer-actions .preview-desktop":"#customize-footer-actions .preview-mobile").trigger("click")},addExistingRowsItems:function(){var a=this,e=!1;T.control(a.controlId).setting.get()&&(e=JSON.parse(T.control(a.controlId).setting.get())),_.isObject(e)||(e={}),_.each(a.panels,function(r,o){var t={};_.isObject(e[o])&&(t=e[o]),_.each(t,function(t,i){_.isUndefined(t)||_.each(t,function(t,e){var n=D('.hfg--widgets[data-device="'+o+'"] .grid-stack-item[data-id="'+t.id+'"]').first();n.attr("data-gs-width",t.width),n.attr("data-gs-x",t.x),n.removeClass("item-from-list"),a.addNewWidget(n,r[i]),D("#accordion-section-"+t.id).removeClass("hfg-section-inactive")})}),a.hideDuplicates(o)}),a.ready=!0},focus:function(){this.container.on("click",".hfg--cb-item-setting, .hfg--cb-item-admin-setting, .hfg--cb-item-name, .item-tooltip",function(t){t.preventDefault();var t=D(this).data("section")||"",e=(console.log("Clicked section",t),-1!==t.indexOf("solace_")&&(t=t.replace("solace_",""),console.log("New section",t)),D(this).data("widget")||""),e=(e&&(console.log("Clicked widget",e),t=e),D(this).attr("data-control")||""),n=!1;e&&!_.isUndefined(T.control(e))&&(T.control(e).focus(),n=!0),n||t&&!_.isUndefined(T.section(t))&&(console.log("Before focus section"),T.section(t).focus())}),this.container.on("click",".hfg--cb-row-settings",function(t){t.preventDefault();t=D(this).attr("data-id")||"",t=a.id+"_"+t;_.isUndefined(T.section(t))||T.section(t).focus()})},closeComponentsSidebar:function(){D(".widgets-panel--visible").removeClass("widgets-panel--visible"),D(".hfg--widgets.widgets--visible").removeClass("widgets--visible"),D(this.widgetSidebarContainer).find(".component-search").val("").trigger("keyup"),D(this.widgetSidebarContainer).removeClass("preview-right preview-left"),D("body").removeClass("hfg--widgets-open"),D(".hfg--component-preview.visible").removeClass("visible")},initComponentsSidebar:function(){var s=this;D(s.container).on("click",".add-button--grid",function(t){s.insertPoint=D(this).data("slot"),s.insertRow=D(this).closest(".hfg--row-inner").find(".hfg--cb-items").data("id"),t.preventDefault(),s.closeComponentsSidebar();var t=t.target.getBoundingClientRect(),e=D(".wp-full-overlay").hasClass("collapsed")?0:D("#customize-controls").outerWidth(),n=D(s.widgetSidebarContainer).outerWidth(),i=D(s.widgetSidebarContainer).outerHeight(),i={top:t.top-(i+5)};6<s.insertPoint?(D(s.widgetSidebarContainer).addClass("preview-left"),i.left=t.left-e-n+n/7+D(this).outerWidth()):s.insertPoint<5?(D(s.widgetSidebarContainer).addClass("preview-right"),i.left=t.left-e-n/7):i.left=t.left-e-n/2+D(this).outerWidth()/2,D(s.widgetSidebarContainer).css(i);t=D(this).closest(".hfg--device-panel")[0].getAttribute("data-device");D(s.widgetSidebarContainer).addClass("widgets-panel--visible"),D(s.widgetSidebarContainer).find(" .hfg--widgets-"+t).addClass("widgets--visible")}),D(s.widgetSidebarContainer).on("click",".hfg-widgets-panel-header .close",function(t){s.closeComponentsSidebar()}),D(s.widgetSidebarContainer).on("keyup input",".component-search",function(t){var e=t.target.value.toLowerCase();_.each(s.widgetSidebarContainer.find(".grid-stack-item"),function(t){D(t).filter(function(){if(D(this).hasClass("duplicate"))return!1;D(this).toggle(-1<D(this).text().toLowerCase().indexOf(e))})})}),D(s.widgetSidebarContainer).on("click",".grid-stack-item",function(t){s.closeComponentsSidebar();var e=JSON.parse(T.control(s.controlId).setting.get()),n=D(this).closest(".hfg--widgets").data("device"),i=D(this).data("df-width"),r=D(this).data("id"),o=(void 0===e[n]&&(e[n]={}),void 0===e[n][s.insertRow]&&(e[n][s.insertRow]={}),Object.values(e[n][s.insertRow])),e={x:s.insertPoint,y:1,width:i,height:1,id:r};o.push(e),D(this).attr("data-gs-x",s.insertPoint),D(this).attr("data-gs-width",i),o.sort(function(t,e){return t.x<e.x?-1:t.x>e.x?1:0});for(var a=0;a<o.length;a++)o[a].id===r&&(a===o.length-1?12<o[a].x+o[a].width&&(o[a].width=o[a].x+o[a].width-12,D(this).attr("data-gs-width",o[a].width)):o[a].x+o[a].width>o[a+1].x&&(o[a].width=o[a+1].x-o[a].x,D(this).attr("data-gs-width",o[a].width)));var c=D(this).find(".grid-stack-item-content");c.addClass("hfg-highlight"),setTimeout(function(){c.removeClass("hfg-highlight")},3500),D("#_sid_"+n+"-"+s.insertRow,s.container[0]).append(this),s.addNewWidget(D(this),D(s.container[0]).find(" #_sid_"+n+"-"+s.insertRow)),T.section(this.getAttribute("data-section")).focus(),s.save(),s.insertRow=null,s.insertPoint=null,s.hideDuplicates(n)})},remove:function(){var n=this;D(n.container).on("click",".hfg--device-panel .hfg--cb-item-remove",function(t){t.preventDefault();var t=D(this).closest(".grid-stack-item"),e=t.closest(".hfg--device-panel")[0].getAttribute("data-device");t.attr("data-gs-x",0),t.removeAttr("style"),D(n.widgetSidebarContainer).find(".hfg--widgets-"+e).prepend(t),D("#accordion-section-"+t[0].dataset.section).addClass("hfg-section-inactive"),n.updateAllGrids(),n.hideDuplicates(e),n.save()})},removeAllItems:function(){var i=this;D(i.container).find(".grid-stack-item").each(function(t,e){var n=D(e).closest(".hfg--device-panel")[0].getAttribute("data-device");D(e).attr("data-gs-x",0),D(e).removeAttr("style"),D(i.widgetSidebarContainer).find(".hfg--widgets-"+n).prepend(e),i.updateAllGrids(),i.hideDuplicates(n)})},hideDuplicates:function(t){var t=D(this.widgetSidebarContainer).find(".hfg--widgets-"+t+" .grid-stack-item"),n={};_.each(t,function(t){var e=D(t).data("slug");if("hfg-generic-component"===e)return!1;void 0===n[e]&&(n[e]=[]),n[e].push(t)}),_.each(n,function(t,e){if(t.length<2)return D(t[0]).removeClass("duplicate"),!1;_.each(t,function(t,e){if(0===e)return D(t).removeClass("duplicate"),!1;D(t).addClass("duplicate")})})},encodeValue:function(t){return JSON.stringify(t)},listenForLayoutSideloading:function(){var e=this;document.addEventListener("solace-changed-builder-value",function(t){return!!t.detail&&t.detail.id===e.id&&(T.control(e.controlId).setting.set(e.encodeValue(t.detail.value)),e.removeAllItems(),void e.addExistingRowsItems())})},decodeValue:function(t){return JSON.parse(t)},save:function(){var i,r=this;r.ready&&(i={},_.each(r.panels,function(t,n){i[n]={},_.each(t,function(t,e){i[n][e]=_.map(D(" > .grid-stack-item",t),function(t){return t=D(t),{x:r.getX(t),y:1,width:r.getW(t),height:1,id:t.data("id")||""}})})}),T.control(r.controlId).setting.set(r.encodeValue(i)))},showPanel:function(){var e=this;this.container.find(".add-button--grid").addClass("hfg-highlight"),setTimeout(function(){e.container.find(".add-button--grid").removeClass("hfg-highlight")},1e3),this.container.removeClass("hfg--builder--hide").addClass("hfg--builder-show"),setTimeout(function(){var t=e.container.height();D("#customize-preview").addClass("cb--preview-panel-show").css({bottom:t-1,"margin-top":"0px"})},100)},hidePanel:function(){this.container.removeClass("hfg--builder-show"),D("#customize-preview").removeClass("cb--preview-panel-show").removeAttr("style")},togglePanel:function(){var e=this;T.state("expandedPanel").bind(function(t){T.panel(a.panel).expanded()?(Nr.trigger("hfg_panel_builder_open",[a.panel]),top._current_builder_panel=c,e.showPanel()):(e.hidePanel(),e.closeComponentsSidebar())}),e.container.on("click",".hfg--panel-close",function(t){t.preventDefault(),e.container.toggleClass("hfg--builder--hide"),e.container.hasClass("hfg--builder--hide")?D("#customize-preview").removeClass("cb--preview-panel-show"):D("#customize-preview").addClass("cb--preview-panel-show")})},panelLayoutCSS:function(){var t=D("#customize-controls").width();T.state("paneVisible").get()||(t=0),Gr?this.container.find(".hfg--cb-inner").css({"margin-right":t}):this.container.find(".hfg--cb-inner").css({"margin-left":t})},populateComponentPreviews:function(){var n=this,i=n.getTemplate();_.each(n.devices,function(t,e){_.each(n.items,function(t){if(null===t.description)return!1;t=i(t,"tmpl-hfg--widgets-preview");D(n.widgetSidebarContainer).append(t)})})},init:function(t,e,n){var i=this,r=i.getTemplate(),o=r(a,"tmpl-hfg--builder-panel"),r=r(a,"tmpl-hfg--widgets-sidebar");i.container=D(o),i.widgetSidebarContainer=D(r),D("body .wp-full-overlay").append(i.container).append(i.widgetSidebarContainer),i.controlId=t,i.items=e,i.devices=n,a.section&&T.section(a.section).container.addClass("hfg--hide"),i.addDevicePanels(),i.switchToDevice(i.activePanel),i.addAvailableItems(),i.populateComponentPreviews(),i.switchToDevice(i.activePanel),i.drag_drop(),i.initComponentsSidebar(),i.focus(),i.remove(),i.addExistingRowsItems(),i.listenForLayoutSideloading(),T.panel(a.panel).expanded()?i.showPanel():(i.hidePanel(),i.closeComponentsSidebar()),T.previewedDevice.bind(function(t){"desktop"===t?i.switchToDevice("desktop",!1):i.switchToDevice("mobile",!1)}),i.togglePanel(),T.state("paneVisible").get()&&i.panelLayoutCSS(),T.state("paneVisible").bind(function(){i.panelLayoutCSS()}),D(window).resize(_.throttle(function(){i.panelLayoutCSS()},100)),i.container.on("click",".hfg--cb-devices-switcher a.switch-to",function(t){t.preventDefault();t=D(this).data("device");i.switchToDevice(t)}),Nr.trigger("hfg_builder_panel_loaded",[c,i])}};return t.init(a.control_id,a.items,a.devices),t},R=jQuery,F=wp.customize||null,m=R(document),F.bind("ready",function(t,e){_.each(HFG_Layout_Builder.builders,function(t,e){e,Lr(t,e)}),F.bind("pane-contents-reflowed",function(){setTimeout(function(){0===R("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice .footer_moved_widgets_text").length&&R("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice").append('<p class="footer_moved_widgets_text">'+HFG_Layout_Builder.footer_moved_widgets_text+"</p>")},1e3)}),F.state("expandedSection").bind(function(t){R(".hfg--device-panel .grid-stack-item").removeClass("item-active"),R(".hfg--cb-row").removeClass("row-active"),t&&(R('.hfg--cb-row[data-id="'+t.id+'"]').addClass("row-active"),R(".hfg--device-panel .grid-stack-item.for-s-"+t.id).addClass("item-active"))})}),m.on("click",".focus-section",function(t){t.preventDefault();t=R(this).attr("data-id")||"";(t=t||(t=R(this).attr("href")||"").replace("#",""))&&F.section(t)&&F.section(t).focus()}),m.on("click",".focus-control",function(t){t.preventDefault();t=R(this).attr("data-id")||"";(t=t||(t=R(this).attr("href")||"").replace("#",""))&&F.control(t)&&F.control(t).focus()}),m.on("click",".focus-panel",function(t){t.preventDefault();t=R(this).attr("data-id")||"";(t=t||(t=R(this).attr("href")||"").replace("#",""))&&F.panel(t)&&F.panel(t).focus()}),m.on("mouseover",".hfg--widgets .grid-stack-item",function(t){var e=R(this),n=e.attr("data-id");R(e).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').addClass("visible")}),m.on("mouseleave",".hfg--widgets .grid-stack-item",function(t){var e=R(this),n=e.attr("data-id");R(e).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').removeClass("visible")}),m.on("mouseover",".hfg--cb-row .grid-stack-item",function(t){var e=R(this),n=R(".hfg--cb-item-remove",e).outerWidth()+R(".hfg--cb-item-setting",e).outerWidth();R(".grid-stack-item-content",e).innerWidth()-50<n&&e.addClass("show-tooltip")}),m.on("mouseleave",".hfg--cb-row .grid-stack-item",function(t){R(this).removeClass("show-tooltip")}),F.bind("ready",function(){F.section.each(function(e){e.expanded.bind(function(t){var n=[];R(".hfg--sidebar-items .grid-stack-item .grid-stack-item-content .hfg--cb-item-name").each(function(t,e){n.push(R(e).data("section"))}),n.push("hfg_header_layout_sidebar"),-1!==n.indexOf(e.id)&&t&&"desktop"!==F.previewedDevice.get()?Ur(!0):Ur(!1)})}),F.previewer.bind("solace-toggle-navbar",function(){R(".hfg--cp-sidebar .toggle").toggleClass("active")})}),m.on("click",".hfg--cp-sidebar .toggle",function(){Ur()}),m.on("click",".hfg--cp-sidebar .hfg--cb-row-settings,.hfg--cp-sidebar .grid-stack-item",function(){Ur(!0)}),m.on("click",".quick-links a",function(t){t.preventDefault(),t.stopPropagation();t=R(this).data("control-focus");if("toggle_sidebar"===t)return Ur(!0),!1;wp.customize.control(t).focus(),R("label."+t).click()}),hashCode=function(t){var e,n=0;if(0!==t.length)for(e=0;e<this.length;e++)n=(n<<5)-n+this.charCodeAt(e),n|=0;return n},wp.customize.sectionConstructor.hfg_instructions=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}();
